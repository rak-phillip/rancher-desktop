(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{751:function(e,t,n){"use strict";n.r(t);n(37),n(9),n(40),n(25),n(41),n(60),n(50),n(51),n(52),n(56),n(22);var r=n(304),o=n(0),c=n(828),l=n(722),d=o.default.extend({components:{SortableTable:l.default,Checkbox:r.Checkbox,Banner:r.Banner},directives:{focus:{inserted:function(element){element.focus()}}},props:{services:{type:Array,required:!0},includeKubernetesServices:{type:Boolean,default:!1},k8sState:{type:String,default:c.a.STOPPED},kubernetesIsDisabled:{type:Boolean,default:!1},serviceBeingEdited:{type:Object,default:null},errorMessage:{type:String,default:null}},data:function(){return{headers:[{name:"namespace",label:"Namespace",sort:["namespace","name"]},{name:"name",label:"Name",sort:["name","namespace"]},{name:"portName",label:"Port",sort:["portName","namespace","name"]},{name:"listenPort",label:"Local Port",sort:["listenPort","namespace","name"]}]}},computed:{isRunning:function(){return this.k8sState===c.a.STARTED},rows:function(){var e=this.services;return this.includeKubernetesServices||(e=e.filter((function(e){return"kube-system"!==e.namespace})).filter((function(e){return!("default"===e.namespace&&"kubernetes"===e.name)}))),e.map((function(e){var t,n="number"==typeof e.port?e.port.toString():e.port;return{namespace:e.namespace,name:e.name,portName:null!==(t=e.portName)&&void 0!==t?t:n,port:e.port,listenPort:e.listenPort,key:"".concat(e.namespace,"/").concat(e.name,":").concat(e.portName)}}))}},methods:{serviceBeingEditedIs:function(e){return null!==this.serviceBeingEdited&&(this.serviceBeingEdited.name===e.name&&this.serviceBeingEdited.namespace===e.namespace&&this.serviceBeingEdited.port===e.port)},emitUpdatePort:function(e){var t=parseInt(e.target.value,10);this.$emit("updatePort",t)},handleCheckbox:function(e){this.$emit("toggledServiceFilter",e)},emitEditPortForward:function(e){this.$emit("editPortForward",e)},emitCancelPortForward:function(e){this.$emit("cancelPortForward",e)},emitCancelEditPortForward:function(e){this.$emit("cancelEditPortForward",e)},emitUpdatePortForward:function(){this.$emit("updatePortForward")},emitCloseError:function(){this.$emit("closeError")}}}),m=(n(928),n(24)),component=Object(m.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.errorMessage?n("Banner",{staticClass:"banner",attrs:{color:"error",closable:!0},on:{close:e.emitCloseError}},[e._v("\n    "+e._s(e.errorMessage)+"\n  ")]):e._e(),e._v(" "),n("SortableTable",{attrs:{headers:e.headers,rows:e.rows,"key-field":"key","default-sort-by":"namespace","table-actions":!1,paging:!0,"row-actions-width":parseInt(95,10)},scopedSlots:e._u([{key:"header-middle",fn:function(){return[n("div",{staticClass:"header-middle"},[n("Checkbox",{staticClass:"kubernetes-services",attrs:{label:"Include Kubernetes services",value:e.includeKubernetesServices,disabled:!e.isRunning||e.kubernetesIsDisabled},on:{input:e.handleCheckbox}})],1)]},proxy:!0},{key:"col:listenPort",fn:function(t){var r=t.row;return[e.serviceBeingEditedIs(r)?n("div",{staticClass:"listen-port-div"},[n("input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"listen-port-input",attrs:{type:"number"},domProps:{value:e.serviceBeingEdited.listenPort},on:{input:e.emitUpdatePort,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.emitUpdatePortForward.apply(null,arguments)}}})]):n("div",[n("p",{staticClass:"listen-port-p"},[e._v("\n          "+e._s(r.listenPort)+"\n        ")])])]}},{key:"row-actions",fn:function(t){var r=t.row;return[void 0!==r.row.listenPort||e.serviceBeingEditedIs(r.row)?e.serviceBeingEditedIs(r.row)?n("div",{staticClass:"action-div"},[n("button",{staticClass:"btn btn-sm role-tertiary btn-icon",on:{click:function(t){return e.emitCancelEditPortForward(r.row)}}},[n("span",{staticClass:"icon icon-x icon-lg"})]),e._v(" "),n("button",{staticClass:"btn btn-sm role-tertiary btn-icon",on:{click:function(t){return e.emitUpdatePortForward()}}},[n("span",{staticClass:"icon icon-checkmark icon-lg"})])]):n("div",{staticClass:"action-div"},[n("button",{staticClass:"btn btn-sm role-tertiary",on:{click:function(t){return e.emitCancelPortForward(r.row)}}},[e._v("\n          Cancel\n        ")])]):n("div",{staticClass:"action-div"},[n("button",{staticClass:"btn btn-sm role-tertiary",on:{click:function(t){return e.emitEditPortForward(r.row)}}},[e._v("\n          Forward\n        ")])])]}}])})],1)}),[],!1,null,null,null);t.default=component.exports},828:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(9),n(171),n(238);var r,o=n(35),c=n(34),l=n(124),d=n(125),m=n(62),f=n(314);n(60),n(53);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}!function(e){e.STOPPED="STOPPED",e.STARTING="STARTING",e.STARTED="STARTED",e.STOPPING="STOPPING",e.ERROR="ERROR",e.DISABLED="DISABLED"}(r||(r={}));Error},872:function(e,t,n){var content=n(929);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(67).default)("cbee5732",content,!0,{sourceMap:!1})},928:function(e,t,n){"use strict";n(872)},929:function(e,t,n){var r=n(66)(!1);r.push([e.i,".btn-icon{display:flex;flex-direction:row;justify-content:center;align-items:center}.action-div{display:flex;flex-direction:row-reverse;grid-gap:.5rem;gap:.5rem}.listen-port-div{height:100%;width:6rem}.listen-port-input{max-height:30px;margin:8px 0}.listen-port-p{margin:15px 11px}.header-middle{display:flex;align-items:flex-end;grid-gap:1rem;gap:1rem;height:100%}.kubernetes-services{margin-bottom:12px}",""]),e.exports=r}}]);