(window.webpackJsonp=window.webpackJsonp||[]).push([[13,47,67],{1081:function(t,e,n){"use strict";n.r(e);var r=n(2),o=(n(27),n(0)),d=n(77),c=n(748),l=o.default.extend({name:"diagnostics",components:{DiagnosticsBody:c.default},fetch:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("credentials/fetchCredentials");case 2:return n=e.sent,e.next=5,t.$store.dispatch("preferences/fetchPreferences",n);case 5:return e.next=7,t.$store.dispatch("diagnostics/fetchDiagnostics",n);case 7:case"end":return e.stop()}}),e)})))()},computed:Object(d.b)("diagnostics",["diagnostics","timeLastRun"]),mounted:function(){this.$store.dispatch("page/setHeader",{title:"Diagnostics"})}}),f=n(24),component=Object(f.a)(l,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("diagnostics-body",{attrs:{rows:t.diagnostics,"time-last-run":t.timeLastRun}})}),[],!1,null,null,null);e.default=component.exports},720:function(t,e,n){"use strict";n.r(e);var r=n(0).default.extend({name:"empty-state",props:{icon:{type:String,default:"icon-alert"},heading:{type:String,default:"Empty state"},body:{type:String,default:"This is an example of an empty state."}},computed:{hasPrimaryActionSlot:function(){return!!this.$slots["primary-action"]}}}),o=(n(798),n(24)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"empty-state"},[n("div",{staticClass:"empty-state-icon"},[t._t("icon",(function(){return[n("span",{staticClass:"icon",class:t.icon})]}))],2),t._v(" "),n("div",{staticClass:"empty-state-heading"},[t._t("heading",(function(){return[t._v("\n      "+t._s(t.heading)+"\n    ")]}))],2),t._v(" "),n("div",{staticClass:"empty-state-body"},[t._t("body",(function(){return[t._v("\n      "+t._s(t.body)+"\n    ")]}))],2),t._v(" "),t.hasPrimaryActionSlot?n("div",{staticClass:"empty-state-primary-action"},[t._t("primary-action")],2):t._e()])}),[],!1,null,"418eadd8",null);e.default=component.exports},739:function(t,e,n){"use strict";n.r(e);var r=n(2),o=(n(27),n(144),n(859)),d=n.n(o),c=n(860),l=n.n(c),f=n(0);d.a.extend(l.a);var m=f.default.extend({name:"diagnostics-button-run",props:{timeLastRun:Date},data:function(){return{lastRunInterval:void 0,currentTime:d()()}},computed:{friendlyTimeLastRun:function(){return this.currentTime.valueOf()>=this.timeLastRun.valueOf()?this.currentTime.to(d()(this.timeLastRun)):this.currentTime.to(this.currentTime)},timeLastRunTooltip:function(){return this.timeLastRun.toLocaleString()}},mounted:function(){var t=this;this.lastRunInterval=setInterval((function(){t.currentTime=d()()}),1e3)},beforeDestroy:function(){clearInterval(this.lastRunInterval)},methods:{onClick:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("credentials/fetchCredentials");case 2:return n=e.sent,e.next=5,t.$store.dispatch("diagnostics/runDiagnostics",n);case 5:case"end":return e.stop()}}),e)})))()}}}),v=(n(861),n(24)),component=Object(v.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"diagnostics-actions"},[n("button",{staticClass:"btn btn-xs role-secondary",on:{click:t.onClick}},[n("span",{staticClass:"icon icon-refresh icon-diagnostics"}),t._v("\n    Rerun\n  ")]),t._v(" "),n("div",{staticClass:"diagnostics-status-history"},[t._v("\n    Last run: "),n("span",{staticClass:"elapsed-timespan",attrs:{title:t.timeLastRunTooltip}},[t._v(t._s(t.friendlyTimeLastRun))])])])}),[],!1,null,"3470d69e",null);e.default=component.exports},748:function(t,e,n){"use strict";n.r(e);n(26),n(21),n(49),n(42),n(43),n(44),n(45),n(55);var r,o=n(8),d=(n(313),n(50),n(51),n(52),n(122),n(37),n(9),n(40),n(25),n(41),n(244),n(245),n(22),n(304)),c=n(308),l=n.n(c),f=n(899),m=n(0),v=n(77),h=n(739),y=n(720),w=n(722);function x(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function _(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?x(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):x(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}!function(t){t.ContainerEngine="Container Engine",t.Kubernetes="Kubernetes",t.Networking="Networking",t.Utilities="Utilities",t.Testing="Testing"}(r||(r={}));var M=m.default.extend({name:"DiagnosticsBody",components:{DiagnosticsButtonRun:h.default,SortableTable:w.default,ToggleSwitch:d.ToggleSwitch,EmptyState:y.default},props:{rows:{type:Array,required:!0},timeLastRun:Date},data:function(){return{headers:[{name:"description",label:"Name"},{name:"mute",label:"Mute",width:76}],expanded:Object.fromEntries(Object.values(r).map((function(t){return[t,!0]})))}},computed:_(_({},Object(v.b)("preferences",["showMuted"])),{},{numFailed:function(){return this.rows.length-this.numMuted},numMuted:function(){return this.rows.filter((function(t){return t.mute})).length},filteredRows:function(){return this.showMuted?this.rows:this.rows.filter((function(t){return!t.mute}))},areAllRowsMuted:function(){return!!this.rows.length&&this.rows.every((function(t){return t.mute}))},emptyStateIcon:function(){return this.areAllRowsMuted?this.t("diagnostics.results.muted.icon"):this.t("diagnostics.results.success.icon")},emptyStateHeading:function(){return this.areAllRowsMuted?this.t("diagnostics.results.muted.heading"):this.t("diagnostics.results.success.heading")},emptyStateBody:function(){return this.areAllRowsMuted?this.t("diagnostics.results.muted.body"):this.t("diagnostics.results.success.body")},featureFixes:function(){return!!this.$config.featureDiagnosticsFixes}}),methods:{markdown:function(t){return l.a.sanitize(f.marked.parseInline(t),{USE_PROFILES:{html:!0}})},pluralize:function(t,e){var n=1===t?e:"".concat(e,"s");return"".concat(t," ").concat(n," ago")},muteRow:function(t,e){this.$store.dispatch("diagnostics/updateDiagnostic",{isMuted:t,row:e})},toggleMute:function(){this.$store.dispatch("preferences/setShowMuted",!this.showMuted)},toggleExpand:function(t){this.expanded[t]=!this.expanded[t]}}}),k=(n(911),n(24)),component=Object(k.a)(M,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"diagnostics",attrs:{"data-test":"diagnostics"}},[n("div",{staticClass:"status"},[n("div",{staticClass:"result-info"},[n("div",{staticClass:"item-results"},[n("span",{staticClass:"icon icon-dot text-error"}),t._v(t._s(t.numFailed)+" failed plus "+t._s(t.numMuted)+" muted\n      ")]),t._v(" "),n("toggle-switch",{attrs:{"off-label":"Show Muted",value:t.showMuted},on:{input:t.toggleMute}})],1),t._v(" "),n("div",{staticClass:"spacer"}),t._v(" "),n("diagnostics-button-run",{staticClass:"button-run",attrs:{"time-last-run":t.timeLastRun}})],1),t._v(" "),n("sortable-table",{attrs:{"key-field":"id",headers:t.headers,rows:t.filteredRows,"group-by":"category",search:!1,"table-actions":!1,"row-actions":!1,"show-headers":!1,"sub-rows":t.featureFixes,"sub-expandable":t.featureFixes,"sub-expand-column":t.featureFixes},scopedSlots:t._u([{key:"no-rows",fn:function(){return[n("td",{attrs:{colspan:t.headers.length+1}},[n("empty-state",{attrs:{icon:t.emptyStateIcon,heading:t.emptyStateHeading,body:t.emptyStateBody},scopedSlots:t._u([t.areAllRowsMuted?{key:"primary-action",fn:function(){return[n("button",{staticClass:"btn role-primary",on:{click:t.toggleMute}},[t._v("\n              Show Muted\n            ")])]},proxy:!0}:null],null,!0)})],1)]},proxy:!0},{key:"group-row",fn:function(e){var r=e.group;return[n("tr",{ref:"group-"+r.ref,staticClass:"group-row",attrs:{"aria-expanded":t.expanded[r.ref]}},[n("td",{staticClass:"col-description",attrs:{role:"columnheader"}},[n("div",{staticClass:"group-tab"},[n("i",{class:{icon:!0,"icon-chevron-right":!t.expanded[r.ref],"icon-chevron-down":!!t.expanded[r.ref]},attrs:{"data-title":"Toggle Expand"},on:{click:function(e){return e.stopPropagation(),t.toggleExpand(r.ref)}}}),t._v("\n            "+t._s(r.ref)+"\n          ")])]),t._v(" "),n("td",{staticClass:"col-mute",attrs:{role:"columnheader"}},[n("span",[t._v("Mute")])])])]}},{key:"col:description",fn:function(e){var r=e.row;return[n("td",[n("span",{domProps:{innerHTML:t._s(t.markdown(r.description))}}),t._v(" "),r.documentation?n("a",{staticClass:"doclink",attrs:{href:r.documentation}},[n("span",{staticClass:"icon icon-external-link"})]):t._e()])]}},{key:"col:mute",fn:function(e){var r=e.row;return[n("td",[n("toggle-switch",{staticClass:"mute-toggle",attrs:{"data-test":"diagnostics-mute-row-"+r.id,value:r.mute},on:{input:function(e){return t.muteRow(e,r)}}})],1)]}},t.featureFixes?{key:"sub-row",fn:function(e){var r=e.row;return[n("tr",[n("td"),t._v(" "),r.fixes.length>0?n("td",{staticClass:"sub-row"},[t._v("\n          "+t._s(r.fixes.map((function(t){return t.description})).join("\n"))+"\n        ")]):n("td",[t._v("\n          (No fixes available)\n        ")]),t._v(" "),t._l(t.headers.length-1,(function(header){return n("td",{key:header.name})}))],2)]}}:null],null,!0)})],1)}),[],!1,null,"4078d6dd",null);e.default=component.exports},788:function(t,e,n){var content=n(799);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(67).default)("55856888",content,!0,{sourceMap:!1})},798:function(t,e,n){"use strict";n(788)},799:function(t,e,n){var r=n(66)(!1);r.push([t.i,'.clearfix[data-v-418eadd8]:after,.clearfix[data-v-418eadd8]:before{content:" ";display:table}.clearfix[data-v-418eadd8]:after{clear:both}.list-unstyled[data-v-418eadd8]{margin:0;padding:0;list-style-type:none}.no-select[data-v-418eadd8]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-418eadd8]{resize:none}.hand[data-v-418eadd8]{cursor:pointer;cursor:hand}.fixed[data-v-418eadd8]{table-layout:fixed}.clip[data-v-418eadd8]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-418eadd8],.force-wrap[data-v-418eadd8]{word-wrap:break-word}.force-wrap[data-v-418eadd8]{white-space:normal}.bordered-section[data-v-418eadd8]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-418eadd8]{margin-bottom:20px;margin-top:20px}.empty-state[data-v-418eadd8]{display:flex;flex-direction:column;grid-gap:.75rem;gap:.75rem;align-items:center}.empty-state-icon[data-v-418eadd8]{font-size:8rem;line-height:1}.empty-state-heading[data-v-418eadd8]{font-size:1.875rem;line-height:2.25rem}.empty-state-body[data-v-418eadd8]{font-size:1rem;line-height:1.5rem;text-align:center}.empty-state-primary-action[data-v-418eadd8]{padding-top:1.5rem}',""]),t.exports=r},831:function(t,e,n){var content=n(862);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(67).default)("8267185a",content,!0,{sourceMap:!1})},860:function(t,e,n){t.exports=function(){"use strict";return function(t,e,n){t=t||{};var r=e.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function i(t,e,n,o){return r.fromToBase(t,e,n,o)}n.en.relativeTime=o,r.fromToBase=function(e,r,i,d,u){for(var c,a,s,l=i.$locale().relativeTime||o,f=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],m=f.length,v=0;v<m;v+=1){var h=f[v];h.d&&(c=d?n(e).diff(i,h.d,!0):i.diff(e,h.d,!0));var p=(t.rounding||Math.round)(Math.abs(c));if(s=c>0,p<=h.r||!h.r){p<=1&&v>0&&(h=f[v-1]);var y=l[h.l];u&&(p=u(""+p)),a="string"==typeof y?y.replace("%d",p):y(p,r,h.l,s);break}}if(r)return a;var w=s?l.future:l.past;return"function"==typeof w?w(a):w.replace("%s",a)},r.to=function(t,e){return i(t,e,this,!0)},r.from=function(t,e){return i(t,e,this)};var d=function(t){return t.$u?n.utc():n()};r.toNow=function(t){return this.to(d(this),t)},r.fromNow=function(t){return this.from(d(this),t)}}}()},861:function(t,e,n){"use strict";n(831)},862:function(t,e,n){var r=n(66)(!1);r.push([t.i,'.clearfix[data-v-3470d69e]:after,.clearfix[data-v-3470d69e]:before{content:" ";display:table}.clearfix[data-v-3470d69e]:after{clear:both}.list-unstyled[data-v-3470d69e]{margin:0;padding:0;list-style-type:none}.no-select[data-v-3470d69e]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-3470d69e]{resize:none}.hand[data-v-3470d69e]{cursor:pointer;cursor:hand}.fixed[data-v-3470d69e]{table-layout:fixed}.clip[data-v-3470d69e]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-3470d69e],.force-wrap[data-v-3470d69e]{word-wrap:break-word}.force-wrap[data-v-3470d69e]{white-space:normal}.bordered-section[data-v-3470d69e]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-3470d69e]{margin-bottom:20px;margin-top:20px}.diagnostics-actions[data-v-3470d69e]{display:flex;flex-direction:column;align-items:flex-end;grid-gap:.5rem;gap:.5rem}.btn-xs[data-v-3470d69e]{min-height:2.25rem;max-height:2.25rem;line-height:.25rem}.icon-diagnostics[data-v-3470d69e]{padding-right:.25rem}',""]),t.exports=r},865:function(t,e,n){var content=n(912);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(67).default)("0b2adf88",content,!0,{sourceMap:!1})},911:function(t,e,n){"use strict";n(865)},912:function(t,e,n){var r=n(66)(!1);r.push([t.i,'.clearfix[data-v-4078d6dd]:after,.clearfix[data-v-4078d6dd]:before{content:" ";display:table}.clearfix[data-v-4078d6dd]:after{clear:both}.list-unstyled[data-v-4078d6dd]{margin:0;padding:0;list-style-type:none}.no-select[data-v-4078d6dd]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-4078d6dd]{resize:none}.hand[data-v-4078d6dd]{cursor:pointer;cursor:hand}.fixed[data-v-4078d6dd]{table-layout:fixed}.clip[data-v-4078d6dd]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-4078d6dd],.force-wrap[data-v-4078d6dd]{word-wrap:break-word}.force-wrap[data-v-4078d6dd]{white-space:normal}.bordered-section[data-v-4078d6dd]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-4078d6dd]{margin-bottom:20px;margin-top:20px}.diagnostics[data-v-4078d6dd]{display:flex;flex-direction:column;grid-gap:2rem;gap:2rem}.diagnostics .status[data-v-4078d6dd]{display:flex}.diagnostics .status .spacer[data-v-4078d6dd]{flex-grow:1}.diagnostics .status .result-info[data-v-4078d6dd]{display:flex;flex-direction:column;grid-gap:1em;gap:1em}.diagnostics .status .result-info .item-results[data-v-4078d6dd]{display:flex;flex:1;grid-gap:.5rem;gap:.5rem;align-items:center}.diagnostics .group-row .col-description[data-v-4078d6dd]{font-weight:700}.diagnostics .group-row .col-description .group-tab[data-v-4078d6dd]{border-top-left-radius:0}.diagnostics .group-row .col-mute[data-v-4078d6dd]{text-align:center;width:0;padding-left:5px;padding-right:10px}.diagnostics .group-row .col-mute>span[data-v-4078d6dd]{display:inline-block;width:48px}.diagnostics .group-row[data-v-4078d6dd]:not([aria-expanded])~.main-row{visibility:collapse}.diagnostics .group-row:not([aria-expanded]) .col-mute[data-v-4078d6dd],.diagnostics .group-row[data-v-4078d6dd]:not([aria-expanded])~.main-row .toggle-container,.diagnostics .mute-toggle[data-v-4078d6dd] .label{display:none}.diagnostics .doclink[data-v-4078d6dd]{margin-left:.1rem}.diagnostics .doclink .icon[data-v-4078d6dd]{vertical-align:baseline}',""]),t.exports=r}}]);